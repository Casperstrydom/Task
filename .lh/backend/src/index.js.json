{
    "sourceFile": "backend/src/index.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1757312846236,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1757312909407,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,13 +2,14 @@\n const mongoose = require(\"mongoose\");\r\n const cors = require(\"cors\");\r\n const swaggerJsdoc = require(\"swagger-jsdoc\");\r\n const swaggerUi = require(\"swagger-ui-express\");\r\n-const taskRoute = require(\"./routes/taskRoute\");\r\n+\r\n // loads .env variables\r\n require(\"dotenv\").config();\r\n \r\n-const taskRoutes = require(\"./routes/taskRoute\"); // ‚úÖ add your routes\r\n+// Import routes\r\n+const taskRoute = require(\"./routes/taskRoute\");\r\n \r\n const app = express();\r\n \r\n // Middleware\r\n"
                },
                {
                    "date": 1757313409234,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n       version: \"1.0.0\",\r\n       description: \"API documentation for Task Manager\",\r\n     },\r\n   },\r\n-  apis: [\"./routes/*.js\"], // ‚úÖ path to route files where @openapi is used\r\n+  apis: [\"./route/*.js\"], // ‚úÖ path to route files where @openapi is used\r\n };\r\n \r\n const swaggerSpec = swaggerJsdoc(options);\r\n app.use(\"/api-docs\", swaggerUi.serve, swaggerUi.setup(swaggerSpec));\r\n"
                },
                {
                    "date": 1757313902849,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,10 +6,9 @@\n \r\n // loads .env variables\r\n require(\"dotenv\").config();\r\n \r\n-// Import routes\r\n-const taskRoute = require(\"./routes/taskRoute\");\r\n+const taskRoutes = require(\"./routes/taskRoute\"); // ‚úÖ add your routes\r\n \r\n const app = express();\r\n \r\n // Middleware\r\n@@ -25,17 +24,17 @@\n       version: \"1.0.0\",\r\n       description: \"API documentation for Task Manager\",\r\n     },\r\n   },\r\n-  apis: [\"./route/*.js\"], // ‚úÖ path to route files where @openapi is used\r\n+  apis: [\"./routes/*.js\"], // ‚úÖ path to route files where @openapi is used\r\n };\r\n \r\n const swaggerSpec = swaggerJsdoc(options);\r\n app.use(\"/api-docs\", swaggerUi.serve, swaggerUi.setup(swaggerSpec));\r\n // --------------------------------------------------\r\n \r\n // API Routes\r\n-app.use(\"/tasks\", taskRoute);\r\n+app.use(\"/tasks\", taskRoutes);\r\n \r\n // Default route\r\n app.get(\"/\", (req, res) => {\r\n   res.send(\"Hello, Task Manager API!\");\r\n"
                },
                {
                    "date": 1757313970412,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,8 +29,11 @@\n };\r\n \r\n const swaggerSpec = swaggerJsdoc(options);\r\n app.use(\"/api-docs\", swaggerUi.serve, swaggerUi.setup(swaggerSpec));\r\n+\r\n+console.log(\"Swagger spec:\", JSON.stringify(swaggerSpec, null, 2));\r\n+\r\n // --------------------------------------------------\r\n \r\n // API Routes\r\n app.use(\"/tasks\", taskRoutes);\r\n"
                },
                {
                    "date": 1757315049059,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n       version: \"1.0.0\",\r\n       description: \"API documentation for Task Manager\",\r\n     },\r\n   },\r\n-  apis: [\"./routes/*.js\"], // ‚úÖ path to route files where @openapi is used\r\n+  apis: [\"./routes/*.js\"]\r\n };\r\n \r\n const swaggerSpec = swaggerJsdoc(options);\r\n app.use(\"/api-docs\", swaggerUi.serve, swaggerUi.setup(swaggerSpec));\r\n"
                },
                {
                    "date": 1757315339431,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,12 +3,14 @@\n const cors = require(\"cors\");\r\n const swaggerJsdoc = require(\"swagger-jsdoc\");\r\n const swaggerUi = require(\"swagger-ui-express\");\r\n \r\n-// loads .env variables\r\n+// Load .env\r\n require(\"dotenv\").config();\r\n \r\n-const taskRoutes = require(\"./routes/taskRoute\"); // ‚úÖ add your routes\r\n+// Import routes\r\n+const taskRoutes = require(\"./routes/taskRoute\");\r\n+const authRoutes = require(\"./routes/authRoute\");\r\n \r\n const app = express();\r\n \r\n // Middleware\r\n@@ -23,34 +25,33 @@\n       title: \"Task API\",\r\n       version: \"1.0.0\",\r\n       description: \"API documentation for Task Manager\",\r\n     },\r\n+    servers: [\r\n+      {\r\n+        url: \"http://localhost:5000\",\r\n+      },\r\n+    ],\r\n   },\r\n-  apis: [\"./routes/*.js\"],\r\n+  apis: [\"./src/routes/*.js\"], // ‚úÖ make sure this matches your folder structure\r\n };\r\n \r\n const swaggerSpec = swaggerJsdoc(options);\r\n app.use(\"/api-docs\", swaggerUi.serve, swaggerUi.setup(swaggerSpec));\r\n \r\n-console.log(\"Swagger spec:\", JSON.stringify(swaggerSpec, null, 2));\r\n-\r\n-// --------------------------------------------------\r\n-\r\n-// API Routes\r\n+// ----------------- Routes -----------------\r\n app.use(\"/tasks\", taskRoutes);\r\n+app.use(\"/auth\", authRoutes);\r\n \r\n-// Default route\r\n-app.get(\"/\", (req, res) => {\r\n-  res.send(\"Hello, Task Manager API!\");\r\n-});\r\n+// Health & default route\r\n+app.get(\"/health\", (_req, res) => res.sendStatus(200));\r\n+app.get(\"/\", (req, res) => res.send(\"Hello, Task Manager API!\"));\r\n \r\n-// MongoDB connection + start server only if connected\r\n+// ----------------- MongoDB Connection -----------------\r\n mongoose\r\n   .connect(process.env.MONGO_URI)\r\n   .then(() => {\r\n     console.log(\"‚úÖ MongoDB connected\");\r\n-\r\n-    // start server\r\n     app.listen(process.env.PORT || 5000, () => {\r\n       console.log(\r\n         `‚úÖ Server running on http://localhost:${process.env.PORT || 5000}`\r\n       );\r\n@@ -60,9 +61,8 @@\n         }/api-docs`\r\n       );\r\n     });\r\n   })\r\n-  // error handling\r\n   .catch((err) => {\r\n     console.error(\"‚ùå MongoDB connection error:\", err);\r\n-    process.exit(1); // exit if DB fails\r\n+    process.exit(1);\r\n   });\r\n"
                },
                {
                    "date": 1757576163810,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,9 +42,12 @@\n app.use(\"/tasks\", taskRoutes);\r\n app.use(\"/auth\", authRoutes);\r\n \r\n // Health & default route\r\n-app.get(\"/health\", (_req, res) => res.sendStatus(200));\r\n+app.get(\"/health\", (_req, res) => {\r\n+  res.status(200).json({ status: \"ok\" });\r\n+});\r\n+\r\n app.get(\"/\", (req, res) => res.send(\"Hello, Task Manager API!\"));\r\n \r\n // ----------------- MongoDB Connection -----------------\r\n mongoose\r\n"
                }
            ],
            "date": 1757312846236,
            "name": "Commit-0",
            "content": "const express = require(\"express\");\r\nconst mongoose = require(\"mongoose\");\r\nconst cors = require(\"cors\");\r\nconst swaggerJsdoc = require(\"swagger-jsdoc\");\r\nconst swaggerUi = require(\"swagger-ui-express\");\r\nconst taskRoute = require(\"./routes/taskRoute\");\r\n// loads .env variables\r\nrequire(\"dotenv\").config();\r\n\r\nconst taskRoutes = require(\"./routes/taskRoute\"); // ‚úÖ add your routes\r\n\r\nconst app = express();\r\n\r\n// Middleware\r\napp.use(cors());\r\napp.use(express.json());\r\n\r\n// ----------------- Swagger Config -----------------\r\nconst options = {\r\n  definition: {\r\n    openapi: \"3.0.0\",\r\n    info: {\r\n      title: \"Task API\",\r\n      version: \"1.0.0\",\r\n      description: \"API documentation for Task Manager\",\r\n    },\r\n  },\r\n  apis: [\"./routes/*.js\"], // ‚úÖ path to route files where @openapi is used\r\n};\r\n\r\nconst swaggerSpec = swaggerJsdoc(options);\r\napp.use(\"/api-docs\", swaggerUi.serve, swaggerUi.setup(swaggerSpec));\r\n// --------------------------------------------------\r\n\r\n// API Routes\r\napp.use(\"/tasks\", taskRoute);\r\n\r\n// Default route\r\napp.get(\"/\", (req, res) => {\r\n  res.send(\"Hello, Task Manager API!\");\r\n});\r\n\r\n// MongoDB connection + start server only if connected\r\nmongoose\r\n  .connect(process.env.MONGO_URI)\r\n  .then(() => {\r\n    console.log(\"‚úÖ MongoDB connected\");\r\n\r\n    // start server\r\n    app.listen(process.env.PORT || 5000, () => {\r\n      console.log(\r\n        `‚úÖ Server running on http://localhost:${process.env.PORT || 5000}`\r\n      );\r\n      console.log(\r\n        `üìò Swagger docs available at http://localhost:${\r\n          process.env.PORT || 5000\r\n        }/api-docs`\r\n      );\r\n    });\r\n  })\r\n  // error handling\r\n  .catch((err) => {\r\n    console.error(\"‚ùå MongoDB connection error:\", err);\r\n    process.exit(1); // exit if DB fails\r\n  });\r\n"
        }
    ]
}