{
    "sourceFile": "frontend/src/components/registerComponent.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 8,
            "patches": [
                {
                    "date": 1757419365361,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1757419471235,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,6 @@\n import React from \"react\";\r\n \r\n-export default function registerComponent() {\r\n+function RegisterComponent() {\r\n   return <div>registerComponent</div>;\r\n }\r\n+export default RegisterComponent;\r\n"
                },
                {
                    "date": 1757625606853,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,140 @@\n-import React from \"react\";\r\n+import { useState } from \"react\";\r\n+import \"../main/index.css\";\r\n \r\n-function RegisterComponent() {\r\n-  return <div>registerComponent</div>;\r\n-}\r\n-export default RegisterComponent;\r\n+const Register = ({ onRegister, switchToLogin }) => {\r\n+  const [formData, setFormData] = useState({\r\n+    name: \"\",\r\n+    email: \"\",\r\n+    password: \"\",\r\n+    confirmPassword: \"\",\r\n+  });\r\n+\r\n+  const handleChange = (e) => {\r\n+    const { name, value } = e.target;\r\n+    setFormData((prev) => ({ ...prev, [name]: value }));\r\n+  };\r\n+\r\n+  const handleSubmit = (e) => {\r\n+    e.preventDefault();\r\n+\r\n+    if (formData.password !== formData.confirmPassword) {\r\n+      alert(\"Passwords don't match!\");\r\n+      return;\r\n+    }\r\n+\r\n+    onRegister(formData);\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"futuristic-auth-container\">\r\n+      {/* Animated background elements */}\r\n+      <div className=\"cyber-grid\"></div>\r\n+      <div className=\"glowing-orbs\">\r\n+        <div className=\"orb orb-1\"></div>\r\n+        <div className=\"orb orb-2\"></div>\r\n+        <div className=\"orb orb-3\"></div>\r\n+      </div>\r\n+\r\n+      <div className=\"auth-wrapper\">\r\n+        <div className=\"auth-card\">\r\n+          <div className=\"auth-header\">\r\n+            <h1 className=\"cyber-title\">\r\n+              <span className=\"cyber-title-text\">NEXUS ACCESS</span>\r\n+              <span className=\"cyber-title-cursor pulse\">_</span>\r\n+            </h1>\r\n+            <p className=\"auth-subtitle\">IDENTITY REGISTRATION</p>\r\n+          </div>\r\n+\r\n+          <form className=\"cyber-form\" onSubmit={handleSubmit}>\r\n+            <div className=\"form-header\">\r\n+              <h2 className=\"neon-text\">REQUEST ACCESS</h2>\r\n+              <div className=\"form-indicator\"></div>\r\n+            </div>\r\n+\r\n+            <div className=\"input-group\">\r\n+              <label className=\"input-label\">CALLSIGN</label>\r\n+              <input\r\n+                type=\"text\"\r\n+                name=\"name\"\r\n+                value={formData.name}\r\n+                onChange={handleChange}\r\n+                className=\"cyber-input\"\r\n+                placeholder=\"ENTER YOUR NAME\"\r\n+                required\r\n+              />\r\n+            </div>\r\n+\r\n+            <div className=\"input-group\">\r\n+              <label className=\"input-label\">IDENTITY</label>\r\n+              <input\r\n+                type=\"email\"\r\n+                name=\"email\"\r\n+                value={formData.email}\r\n+                onChange={handleChange}\r\n+                className=\"cyber-input\"\r\n+                placeholder=\"ENTER YOUR EMAIL\"\r\n+                required\r\n+              />\r\n+            </div>\r\n+\r\n+            <div className=\"input-group\">\r\n+              <label className=\"input-label\">PASSPHRASE</label>\r\n+              <input\r\n+                type=\"password\"\r\n+                name=\"password\"\r\n+                value={formData.password}\r\n+                onChange={handleChange}\r\n+                className=\"cyber-input\"\r\n+                placeholder=\"CREATE A PASSWORD\"\r\n+                required\r\n+              />\r\n+            </div>\r\n+\r\n+            <div className=\"input-group\">\r\n+              <label className=\"input-label\">CONFIRM PASSPHRASE</label>\r\n+              <input\r\n+                type=\"password\"\r\n+                name=\"confirmPassword\"\r\n+                value={formData.confirmPassword}\r\n+                onChange={handleChange}\r\n+                className=\"cyber-input\"\r\n+                placeholder=\"CONFIRM YOUR PASSWORD\"\r\n+                required\r\n+              />\r\n+            </div>\r\n+\r\n+            <label className=\"cyber-checkbox-container\">\r\n+              <input type=\"checkbox\" required />\r\n+              <span className=\"checkmark\"></span>I ACCEPT THE TERMS OF SERVICE\r\n+            </label>\r\n+\r\n+            <button\r\n+              type=\"submit\"\r\n+              className=\"cyber-button cyber-button-primary full-width\"\r\n+            >\r\n+              <span className=\"cyber-button-glitch\">⊕</span>\r\n+              <span className=\"cyber-button-text\">CREATE IDENTITY</span>\r\n+            </button>\r\n+\r\n+            <div className=\"auth-switch\">\r\n+              <span>EXISTING USER?</span>\r\n+              <button\r\n+                type=\"button\"\r\n+                onClick={switchToLogin}\r\n+                className=\"cyber-link\"\r\n+              >\r\n+                INITIATE LOGIN\r\n+              </button>\r\n+            </div>\r\n+          </form>\r\n+\r\n+          <div className=\"auth-footer\">\r\n+            <p>NEXUS SECURITY SYSTEM v2.4.7</p>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Register;\r\n"
                },
                {
                    "date": 1758182087010,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,22 +13,41 @@\n     const { name, value } = e.target;\r\n     setFormData((prev) => ({ ...prev, [name]: value }));\r\n   };\r\n \r\n-  const handleSubmit = (e) => {\r\n+  const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n \r\n     if (formData.password !== formData.confirmPassword) {\r\n       alert(\"Passwords don't match!\");\r\n       return;\r\n     }\r\n \r\n-    onRegister(formData);\r\n+    try {\r\n+      const apiBase = import.meta.env.VITE_API_BASE;\r\n+      const res = await fetch(`${apiBase}/auth/register`, {\r\n+        method: \"POST\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify(formData),\r\n+      });\r\n+\r\n+      const data = await res.json();\r\n+\r\n+      if (!res.ok) throw new Error(data.error || \"Registration failed\");\r\n+\r\n+      // Store JWT automatically after registration\r\n+      if (data.token) localStorage.setItem(\"token\", data.token);\r\n+\r\n+      console.log(\"Registration successful\", data.user);\r\n+      onRegister(data.user);\r\n+    } catch (err) {\r\n+      console.error(\"Registration error:\", err);\r\n+      alert(err.message);\r\n+    }\r\n   };\r\n \r\n   return (\r\n     <div className=\"futuristic-auth-container\">\r\n-      {/* Animated background elements */}\r\n       <div className=\"cyber-grid\"></div>\r\n       <div className=\"glowing-orbs\">\r\n         <div className=\"orb orb-1\"></div>\r\n         <div className=\"orb orb-2\"></div>\r\n"
                },
                {
                    "date": 1758187129332,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,10 @@\n import { useState } from \"react\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n import \"../main/index.css\";\r\n \r\n-const Register = ({ onRegister, switchToLogin }) => {\r\n+const Register = ({ onRegister }) => {\r\n+  const navigate = useNavigate();\r\n   const [formData, setFormData] = useState({\r\n     name: \"\",\r\n     email: \"\",\r\n     password: \"\",\r\n@@ -15,142 +17,80 @@\n   };\r\n \r\n   const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n-\r\n     if (formData.password !== formData.confirmPassword) {\r\n       alert(\"Passwords don't match!\");\r\n       return;\r\n     }\r\n \r\n     try {\r\n-      const apiBase = import.meta.env.VITE_API_BASE;\r\n+      const apiBase = import.meta.env.VITE_API_BASE || \"http://localhost:5000\";\r\n       const res = await fetch(`${apiBase}/auth/register`, {\r\n         method: \"POST\",\r\n         headers: { \"Content-Type\": \"application/json\" },\r\n         body: JSON.stringify(formData),\r\n       });\r\n \r\n       const data = await res.json();\r\n \r\n-      if (!res.ok) throw new Error(data.error || \"Registration failed\");\r\n+      if (!res.ok) {\r\n+        throw new Error(data.error || \"Registration failed\");\r\n+      }\r\n \r\n-      // Store JWT automatically after registration\r\n       if (data.token) localStorage.setItem(\"token\", data.token);\r\n+      onRegister(data.user);\r\n \r\n-      console.log(\"Registration successful\", data.user);\r\n-      onRegister(data.user);\r\n+      console.log(\"Registration successful:\", data.user);\r\n+\r\n+      // Redirect to /home after registration\r\n+      navigate(\"/home\");\r\n     } catch (err) {\r\n       console.error(\"Registration error:\", err);\r\n       alert(err.message);\r\n     }\r\n   };\r\n \r\n   return (\r\n     <div className=\"futuristic-auth-container\">\r\n-      <div className=\"cyber-grid\"></div>\r\n-      <div className=\"glowing-orbs\">\r\n-        <div className=\"orb orb-1\"></div>\r\n-        <div className=\"orb orb-2\"></div>\r\n-        <div className=\"orb orb-3\"></div>\r\n-      </div>\r\n-\r\n       <div className=\"auth-wrapper\">\r\n         <div className=\"auth-card\">\r\n-          <div className=\"auth-header\">\r\n-            <h1 className=\"cyber-title\">\r\n-              <span className=\"cyber-title-text\">NEXUS ACCESS</span>\r\n-              <span className=\"cyber-title-cursor pulse\">_</span>\r\n-            </h1>\r\n-            <p className=\"auth-subtitle\">IDENTITY REGISTRATION</p>\r\n-          </div>\r\n-\r\n-          <form className=\"cyber-form\" onSubmit={handleSubmit}>\r\n-            <div className=\"form-header\">\r\n-              <h2 className=\"neon-text\">REQUEST ACCESS</h2>\r\n-              <div className=\"form-indicator\"></div>\r\n-            </div>\r\n-\r\n-            <div className=\"input-group\">\r\n-              <label className=\"input-label\">CALLSIGN</label>\r\n-              <input\r\n-                type=\"text\"\r\n-                name=\"name\"\r\n-                value={formData.name}\r\n-                onChange={handleChange}\r\n-                className=\"cyber-input\"\r\n-                placeholder=\"ENTER YOUR NAME\"\r\n-                required\r\n-              />\r\n-            </div>\r\n-\r\n-            <div className=\"input-group\">\r\n-              <label className=\"input-label\">IDENTITY</label>\r\n-              <input\r\n-                type=\"email\"\r\n-                name=\"email\"\r\n-                value={formData.email}\r\n-                onChange={handleChange}\r\n-                className=\"cyber-input\"\r\n-                placeholder=\"ENTER YOUR EMAIL\"\r\n-                required\r\n-              />\r\n-            </div>\r\n-\r\n-            <div className=\"input-group\">\r\n-              <label className=\"input-label\">PASSPHRASE</label>\r\n-              <input\r\n-                type=\"password\"\r\n-                name=\"password\"\r\n-                value={formData.password}\r\n-                onChange={handleChange}\r\n-                className=\"cyber-input\"\r\n-                placeholder=\"CREATE A PASSWORD\"\r\n-                required\r\n-              />\r\n-            </div>\r\n-\r\n-            <div className=\"input-group\">\r\n-              <label className=\"input-label\">CONFIRM PASSPHRASE</label>\r\n-              <input\r\n-                type=\"password\"\r\n-                name=\"confirmPassword\"\r\n-                value={formData.confirmPassword}\r\n-                onChange={handleChange}\r\n-                className=\"cyber-input\"\r\n-                placeholder=\"CONFIRM YOUR PASSWORD\"\r\n-                required\r\n-              />\r\n-            </div>\r\n-\r\n-            <label className=\"cyber-checkbox-container\">\r\n-              <input type=\"checkbox\" required />\r\n-              <span className=\"checkmark\"></span>I ACCEPT THE TERMS OF SERVICE\r\n-            </label>\r\n-\r\n-            <button\r\n-              type=\"submit\"\r\n-              className=\"cyber-button cyber-button-primary full-width\"\r\n-            >\r\n-              <span className=\"cyber-button-glitch\">⊕</span>\r\n-              <span className=\"cyber-button-text\">CREATE IDENTITY</span>\r\n-            </button>\r\n-\r\n-            <div className=\"auth-switch\">\r\n-              <span>EXISTING USER?</span>\r\n-              <button\r\n-                type=\"button\"\r\n-                onClick={switchToLogin}\r\n-                className=\"cyber-link\"\r\n-              >\r\n-                INITIATE LOGIN\r\n-              </button>\r\n-            </div>\r\n+          <h1>Register</h1>\r\n+          <form onSubmit={handleSubmit}>\r\n+            <input\r\n+              type=\"text\"\r\n+              name=\"name\"\r\n+              placeholder=\"Name\"\r\n+              value={formData.name}\r\n+              onChange={handleChange}\r\n+              required\r\n+            />\r\n+            <input\r\n+              type=\"email\"\r\n+              name=\"email\"\r\n+              placeholder=\"Email\"\r\n+              value={formData.email}\r\n+              onChange={handleChange}\r\n+              required\r\n+            />\r\n+            <input\r\n+              type=\"password\"\r\n+              name=\"password\"\r\n+              placeholder=\"Password\"\r\n+              value={formData.password}\r\n+              onChange={handleChange}\r\n+              required\r\n+            />\r\n+            <input\r\n+              type=\"password\"\r\n+              name=\"confirmPassword\"\r\n+              placeholder=\"Confirm Password\"\r\n+              value={formData.confirmPassword}\r\n+              onChange={handleChange}\r\n+              required\r\n+            />\r\n+            <button type=\"submit\">Register</button>\r\n           </form>\r\n-\r\n-          <div className=\"auth-footer\">\r\n-            <p>NEXUS SECURITY SYSTEM v2.4.7</p>\r\n-          </div>\r\n         </div>\r\n       </div>\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1758187395214,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,8 @@\n import { useState } from \"react\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n import \"../main/index.css\";\r\n \r\n-const Register = ({ onRegister }) => {\r\n-  const navigate = useNavigate();\r\n+const Register = ({ onRegister, switchToLogin }) => {\r\n   const [formData, setFormData] = useState({\r\n     name: \"\",\r\n     email: \"\",\r\n     password: \"\",\r\n@@ -17,80 +15,142 @@\n   };\r\n \r\n   const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n+\r\n     if (formData.password !== formData.confirmPassword) {\r\n       alert(\"Passwords don't match!\");\r\n       return;\r\n     }\r\n \r\n     try {\r\n-      const apiBase = import.meta.env.VITE_API_BASE || \"http://localhost:5000\";\r\n+      const apiBase = import.meta.env.VITE_API_BASE;\r\n       const res = await fetch(`${apiBase}/auth/register`, {\r\n         method: \"POST\",\r\n         headers: { \"Content-Type\": \"application/json\" },\r\n         body: JSON.stringify(formData),\r\n       });\r\n \r\n       const data = await res.json();\r\n \r\n-      if (!res.ok) {\r\n-        throw new Error(data.error || \"Registration failed\");\r\n-      }\r\n+      if (!res.ok) throw new Error(data.error || \"Registration failed\");\r\n \r\n+      // Store JWT automatically after registration\r\n       if (data.token) localStorage.setItem(\"token\", data.token);\r\n+\r\n+      console.log(\"Registration successful\", data.user);\r\n       onRegister(data.user);\r\n-\r\n-      console.log(\"Registration successful:\", data.user);\r\n-\r\n-      // Redirect to /home after registration\r\n-      navigate(\"/home\");\r\n     } catch (err) {\r\n       console.error(\"Registration error:\", err);\r\n       alert(err.message);\r\n     }\r\n   };\r\n \r\n   return (\r\n     <div className=\"futuristic-auth-container\">\r\n+      <div className=\"cyber-grid\"></div>\r\n+      <div className=\"glowing-orbs\">\r\n+        <div className=\"orb orb-1\"></div>\r\n+        <div className=\"orb orb-2\"></div>\r\n+        <div className=\"orb orb-3\"></div>\r\n+      </div>\r\n+\r\n       <div className=\"auth-wrapper\">\r\n         <div className=\"auth-card\">\r\n-          <h1>Register</h1>\r\n-          <form onSubmit={handleSubmit}>\r\n-            <input\r\n-              type=\"text\"\r\n-              name=\"name\"\r\n-              placeholder=\"Name\"\r\n-              value={formData.name}\r\n-              onChange={handleChange}\r\n-              required\r\n-            />\r\n-            <input\r\n-              type=\"email\"\r\n-              name=\"email\"\r\n-              placeholder=\"Email\"\r\n-              value={formData.email}\r\n-              onChange={handleChange}\r\n-              required\r\n-            />\r\n-            <input\r\n-              type=\"password\"\r\n-              name=\"password\"\r\n-              placeholder=\"Password\"\r\n-              value={formData.password}\r\n-              onChange={handleChange}\r\n-              required\r\n-            />\r\n-            <input\r\n-              type=\"password\"\r\n-              name=\"confirmPassword\"\r\n-              placeholder=\"Confirm Password\"\r\n-              value={formData.confirmPassword}\r\n-              onChange={handleChange}\r\n-              required\r\n-            />\r\n-            <button type=\"submit\">Register</button>\r\n+          <div className=\"auth-header\">\r\n+            <h1 className=\"cyber-title\">\r\n+              <span className=\"cyber-title-text\">NEXUS ACCESS</span>\r\n+              <span className=\"cyber-title-cursor pulse\">_</span>\r\n+            </h1>\r\n+            <p className=\"auth-subtitle\">IDENTITY REGISTRATION</p>\r\n+          </div>\r\n+\r\n+          <form className=\"cyber-form\" onSubmit={handleSubmit}>\r\n+            <div className=\"form-header\">\r\n+              <h2 className=\"neon-text\">REQUEST ACCESS</h2>\r\n+              <div className=\"form-indicator\"></div>\r\n+            </div>\r\n+\r\n+            <div className=\"input-group\">\r\n+              <label className=\"input-label\">CALLSIGN</label>\r\n+              <input\r\n+                type=\"text\"\r\n+                name=\"name\"\r\n+                value={formData.name}\r\n+                onChange={handleChange}\r\n+                className=\"cyber-input\"\r\n+                placeholder=\"ENTER YOUR NAME\"\r\n+                required\r\n+              />\r\n+            </div>\r\n+\r\n+            <div className=\"input-group\">\r\n+              <label className=\"input-label\">IDENTITY</label>\r\n+              <input\r\n+                type=\"email\"\r\n+                name=\"email\"\r\n+                value={formData.email}\r\n+                onChange={handleChange}\r\n+                className=\"cyber-input\"\r\n+                placeholder=\"ENTER YOUR EMAIL\"\r\n+                required\r\n+              />\r\n+            </div>\r\n+\r\n+            <div className=\"input-group\">\r\n+              <label className=\"input-label\">PASSPHRASE</label>\r\n+              <input\r\n+                type=\"password\"\r\n+                name=\"password\"\r\n+                value={formData.password}\r\n+                onChange={handleChange}\r\n+                className=\"cyber-input\"\r\n+                placeholder=\"CREATE A PASSWORD\"\r\n+                required\r\n+              />\r\n+            </div>\r\n+\r\n+            <div className=\"input-group\">\r\n+              <label className=\"input-label\">CONFIRM PASSPHRASE</label>\r\n+              <input\r\n+                type=\"password\"\r\n+                name=\"confirmPassword\"\r\n+                value={formData.confirmPassword}\r\n+                onChange={handleChange}\r\n+                className=\"cyber-input\"\r\n+                placeholder=\"CONFIRM YOUR PASSWORD\"\r\n+                required\r\n+              />\r\n+            </div>\r\n+\r\n+            <label className=\"cyber-checkbox-container\">\r\n+              <input type=\"checkbox\" required />\r\n+              <span className=\"checkmark\"></span>I ACCEPT THE TERMS OF SERVICE\r\n+            </label>\r\n+\r\n+            <button\r\n+              type=\"submit\"\r\n+              className=\"cyber-button cyber-button-primary full-width\"\r\n+            >\r\n+              <span className=\"cyber-button-glitch\">⊕</span>\r\n+              <span className=\"cyber-button-text\">CREATE IDENTITY</span>\r\n+            </button>\r\n+\r\n+            <div className=\"auth-switch\">\r\n+              <span>EXISTING USER?</span>\r\n+              <button\r\n+                type=\"button\"\r\n+                onClick={switchToLogin}\r\n+                className=\"cyber-link\"\r\n+              >\r\n+                INITIATE LOGIN\r\n+              </button>\r\n+            </div>\r\n           </form>\r\n+\r\n+          <div className=\"auth-footer\">\r\n+            <p>NEXUS SECURITY SYSTEM v2.4.7</p>\r\n+          </div>\r\n         </div>\r\n       </div>\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1758187547892,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,162 @@\n+import { useState } from \"react\";\r\n+import { useNavigate } from \"react-router-dom\"; // ✅ Added for navigation\r\n+import \"../main/index.css\";\r\n+\r\n+const Register = ({ onRegister, switchToLogin }) => {\r\n+  const navigate = useNavigate(); // ✅ Navigate after register\r\n+  const [formData, setFormData] = useState({\r\n+    name: \"\",\r\n+    email: \"\",\r\n+    password: \"\",\r\n+    confirmPassword: \"\",\r\n+  });\r\n+\r\n+  const handleChange = (e) => {\r\n+    const { name, value } = e.target;\r\n+    setFormData((prev) => ({ ...prev, [name]: value }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e) => {\r\n+    e.preventDefault();\r\n+\r\n+    if (formData.password !== formData.confirmPassword) {\r\n+      alert(\"Passwords don't match!\");\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const apiBase = import.meta.env.VITE_API_BASE || \"http://localhost:5000\";\r\n+      const res = await fetch(`${apiBase}/auth/register`, {\r\n+        method: \"POST\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify(formData),\r\n+      });\r\n+\r\n+      const data = await res.json();\r\n+\r\n+      if (!res.ok) throw new Error(data.error || \"Registration failed\"); // ✅ Error handling\r\n+\r\n+      if (data.token) localStorage.setItem(\"token\", data.token); // ✅ JWT storage\r\n+      onRegister(data.user);\r\n+\r\n+      console.log(\"Registration successful\", data.user);\r\n+\r\n+      navigate(\"/home\"); // ✅ Redirect after registration\r\n+    } catch (err) {\r\n+      console.error(\"Registration error:\", err);\r\n+      alert(err.message);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"futuristic-auth-container\">\r\n+      <div className=\"cyber-grid\"></div>\r\n+      <div className=\"glowing-orbs\">\r\n+        <div className=\"orb orb-1\"></div>\r\n+        <div className=\"orb orb-2\"></div>\r\n+        <div className=\"orb orb-3\"></div>\r\n+      </div>\r\n+\r\n+      <div className=\"auth-wrapper\">\r\n+        <div className=\"auth-card\">\r\n+          <div className=\"auth-header\">\r\n+            <h1 className=\"cyber-title\">\r\n+              <span className=\"cyber-title-text\">NEXUS ACCESS</span>\r\n+              <span className=\"cyber-title-cursor pulse\">_</span>\r\n+            </h1>\r\n+            <p className=\"auth-subtitle\">IDENTITY REGISTRATION</p>\r\n+          </div>\r\n+\r\n+          <form className=\"cyber-form\" onSubmit={handleSubmit}>\r\n+            <div className=\"form-header\">\r\n+              <h2 className=\"neon-text\">REQUEST ACCESS</h2>\r\n+              <div className=\"form-indicator\"></div>\r\n+            </div>\r\n+\r\n+            <div className=\"input-group\">\r\n+              <label className=\"input-label\">CALLSIGN</label>\r\n+              <input\r\n+                type=\"text\"\r\n+                name=\"name\"\r\n+                value={formData.name}\r\n+                onChange={handleChange}\r\n+                className=\"cyber-input\"\r\n+                placeholder=\"ENTER YOUR NAME\"\r\n+                required\r\n+              />\r\n+            </div>\r\n+\r\n+            <div className=\"input-group\">\r\n+              <label className=\"input-label\">IDENTITY</label>\r\n+              <input\r\n+                type=\"email\"\r\n+                name=\"email\"\r\n+                value={formData.email}\r\n+                onChange={handleChange}\r\n+                className=\"cyber-input\"\r\n+                placeholder=\"ENTER YOUR EMAIL\"\r\n+                required\r\n+              />\r\n+            </div>\r\n+\r\n+            <div className=\"input-group\">\r\n+              <label className=\"input-label\">PASSPHRASE</label>\r\n+              <input\r\n+                type=\"password\"\r\n+                name=\"password\"\r\n+                value={formData.password}\r\n+                onChange={handleChange}\r\n+                className=\"cyber-input\"\r\n+                placeholder=\"CREATE A PASSWORD\"\r\n+                required\r\n+              />\r\n+            </div>\r\n+\r\n+            <div className=\"input-group\">\r\n+              <label className=\"input-label\">CONFIRM PASSPHRASE</label>\r\n+              <input\r\n+                type=\"password\"\r\n+                name=\"confirmPassword\"\r\n+                value={formData.confirmPassword}\r\n+                onChange={handleChange}\r\n+                className=\"cyber-input\"\r\n+                placeholder=\"CONFIRM YOUR PASSWORD\"\r\n+                required\r\n+              />\r\n+            </div>\r\n+\r\n+            <label className=\"cyber-checkbox-container\">\r\n+              <input type=\"checkbox\" required />\r\n+              <span className=\"checkmark\"></span>I ACCEPT THE TERMS OF SERVICE\r\n+            </label>\r\n+\r\n+            <button\r\n+              type=\"submit\"\r\n+              className=\"cyber-button cyber-button-primary full-width\"\r\n+            >\r\n+              <span className=\"cyber-button-glitch\">⊕</span>\r\n+              <span className=\"cyber-button-text\">CREATE IDENTITY</span>\r\n+            </button>\r\n+\r\n+            <div className=\"auth-switch\">\r\n+              <span>EXISTING USER?</span>\r\n+              <button\r\n+                type=\"button\"\r\n+                onClick={switchToLogin}\r\n+                className=\"cyber-link\"\r\n+              >\r\n+                INITIATE LOGIN\r\n+              </button>\r\n+            </div>\r\n+          </form>\r\n+\r\n+          <div className=\"auth-footer\">\r\n+            <p>NEXUS SECURITY SYSTEM v2.4.7</p>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Register;\r\n"
                },
                {
                    "date": 1758192252145,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,8 @@\n import { useState } from \"react\";\r\n-import { useNavigate } from \"react-router-dom\"; // ✅ Added for navigation\r\n import \"../main/index.css\";\r\n \r\n-const Register = ({ onRegister, switchToLogin }) => {\r\n-  const navigate = useNavigate(); // ✅ Navigate after register\r\n+const RegisterComponent = ({ onRegister, switchToLogin }) => {\r\n   const [formData, setFormData] = useState({\r\n     name: \"\",\r\n     email: \"\",\r\n     password: \"\",\r\n@@ -15,38 +13,16 @@\n     const { name, value } = e.target;\r\n     setFormData((prev) => ({ ...prev, [name]: value }));\r\n   };\r\n \r\n-  const handleSubmit = async (e) => {\r\n+  const handleSubmit = (e) => {\r\n     e.preventDefault();\r\n-\r\n     if (formData.password !== formData.confirmPassword) {\r\n       alert(\"Passwords don't match!\");\r\n       return;\r\n     }\r\n-\r\n-    try {\r\n-      const apiBase = import.meta.env.VITE_API_BASE || \"http://localhost:5000\";\r\n-      const res = await fetch(`${apiBase}/auth/register`, {\r\n-        method: \"POST\",\r\n-        headers: { \"Content-Type\": \"application/json\" },\r\n-        body: JSON.stringify(formData),\r\n-      });\r\n-\r\n-      const data = await res.json();\r\n-\r\n-      if (!res.ok) throw new Error(data.error || \"Registration failed\"); // ✅ Error handling\r\n-\r\n-      if (data.token) localStorage.setItem(\"token\", data.token); // ✅ JWT storage\r\n-      onRegister(data.user);\r\n-\r\n-      console.log(\"Registration successful\", data.user);\r\n-\r\n-      navigate(\"/home\"); // ✅ Redirect after registration\r\n-    } catch (err) {\r\n-      console.error(\"Registration error:\", err);\r\n-      alert(err.message);\r\n-    }\r\n+    // Call parent onRegister with form data\r\n+    onRegister(formData);\r\n   };\r\n \r\n   return (\r\n     <div className=\"futuristic-auth-container\">\r\n@@ -158,164 +134,5 @@\n     </div>\r\n   );\r\n };\r\n \r\n-export default Register;\r\n-import { useState } from \"react\";\r\n-import \"../main/index.css\";\r\n-\r\n-const Register = ({ onRegister, switchToLogin }) => {\r\n-  const [formData, setFormData] = useState({\r\n-    name: \"\",\r\n-    email: \"\",\r\n-    password: \"\",\r\n-    confirmPassword: \"\",\r\n-  });\r\n-\r\n-  const handleChange = (e) => {\r\n-    const { name, value } = e.target;\r\n-    setFormData((prev) => ({ ...prev, [name]: value }));\r\n-  };\r\n-\r\n-  const handleSubmit = async (e) => {\r\n-    e.preventDefault();\r\n-\r\n-    if (formData.password !== formData.confirmPassword) {\r\n-      alert(\"Passwords don't match!\");\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const apiBase = import.meta.env.VITE_API_BASE;\r\n-      const res = await fetch(`${apiBase}/auth/register`, {\r\n-        method: \"POST\",\r\n-        headers: { \"Content-Type\": \"application/json\" },\r\n-        body: JSON.stringify(formData),\r\n-      });\r\n-\r\n-      const data = await res.json();\r\n-\r\n-      if (!res.ok) throw new Error(data.error || \"Registration failed\");\r\n-\r\n-      // Store JWT automatically after registration\r\n-      if (data.token) localStorage.setItem(\"token\", data.token);\r\n-\r\n-      console.log(\"Registration successful\", data.user);\r\n-      onRegister(data.user);\r\n-    } catch (err) {\r\n-      console.error(\"Registration error:\", err);\r\n-      alert(err.message);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"futuristic-auth-container\">\r\n-      <div className=\"cyber-grid\"></div>\r\n-      <div className=\"glowing-orbs\">\r\n-        <div className=\"orb orb-1\"></div>\r\n-        <div className=\"orb orb-2\"></div>\r\n-        <div className=\"orb orb-3\"></div>\r\n-      </div>\r\n-\r\n-      <div className=\"auth-wrapper\">\r\n-        <div className=\"auth-card\">\r\n-          <div className=\"auth-header\">\r\n-            <h1 className=\"cyber-title\">\r\n-              <span className=\"cyber-title-text\">NEXUS ACCESS</span>\r\n-              <span className=\"cyber-title-cursor pulse\">_</span>\r\n-            </h1>\r\n-            <p className=\"auth-subtitle\">IDENTITY REGISTRATION</p>\r\n-          </div>\r\n-\r\n-          <form className=\"cyber-form\" onSubmit={handleSubmit}>\r\n-            <div className=\"form-header\">\r\n-              <h2 className=\"neon-text\">REQUEST ACCESS</h2>\r\n-              <div className=\"form-indicator\"></div>\r\n-            </div>\r\n-\r\n-            <div className=\"input-group\">\r\n-              <label className=\"input-label\">CALLSIGN</label>\r\n-              <input\r\n-                type=\"text\"\r\n-                name=\"name\"\r\n-                value={formData.name}\r\n-                onChange={handleChange}\r\n-                className=\"cyber-input\"\r\n-                placeholder=\"ENTER YOUR NAME\"\r\n-                required\r\n-              />\r\n-            </div>\r\n-\r\n-            <div className=\"input-group\">\r\n-              <label className=\"input-label\">IDENTITY</label>\r\n-              <input\r\n-                type=\"email\"\r\n-                name=\"email\"\r\n-                value={formData.email}\r\n-                onChange={handleChange}\r\n-                className=\"cyber-input\"\r\n-                placeholder=\"ENTER YOUR EMAIL\"\r\n-                required\r\n-              />\r\n-            </div>\r\n-\r\n-            <div className=\"input-group\">\r\n-              <label className=\"input-label\">PASSPHRASE</label>\r\n-              <input\r\n-                type=\"password\"\r\n-                name=\"password\"\r\n-                value={formData.password}\r\n-                onChange={handleChange}\r\n-                className=\"cyber-input\"\r\n-                placeholder=\"CREATE A PASSWORD\"\r\n-                required\r\n-              />\r\n-            </div>\r\n-\r\n-            <div className=\"input-group\">\r\n-              <label className=\"input-label\">CONFIRM PASSPHRASE</label>\r\n-              <input\r\n-                type=\"password\"\r\n-                name=\"confirmPassword\"\r\n-                value={formData.confirmPassword}\r\n-                onChange={handleChange}\r\n-                className=\"cyber-input\"\r\n-                placeholder=\"CONFIRM YOUR PASSWORD\"\r\n-                required\r\n-              />\r\n-            </div>\r\n-\r\n-            <label className=\"cyber-checkbox-container\">\r\n-              <input type=\"checkbox\" required />\r\n-              <span className=\"checkmark\"></span>I ACCEPT THE TERMS OF SERVICE\r\n-            </label>\r\n-\r\n-            <button\r\n-              type=\"submit\"\r\n-              className=\"cyber-button cyber-button-primary full-width\"\r\n-            >\r\n-              <span className=\"cyber-button-glitch\">⊕</span>\r\n-              <span className=\"cyber-button-text\">CREATE IDENTITY</span>\r\n-            </button>\r\n-\r\n-            <div className=\"auth-switch\">\r\n-              <span>EXISTING USER?</span>\r\n-              <button\r\n-                type=\"button\"\r\n-                onClick={switchToLogin}\r\n-                className=\"cyber-link\"\r\n-              >\r\n-                INITIATE LOGIN\r\n-              </button>\r\n-            </div>\r\n-          </form>\r\n-\r\n-          <div className=\"auth-footer\">\r\n-            <p>NEXUS SECURITY SYSTEM v2.4.7</p>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default Register;\r\n+export default RegisterComponent;\r\n"
                },
                {
                    "date": 1758542430023,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,28 +1,63 @@\n import { useState } from \"react\";\r\n+import axios from \"axios\";\r\n import \"../main/index.css\";\r\n \r\n-const RegisterComponent = ({ onRegister, switchToLogin }) => {\r\n+const apiBase = import.meta.env.VITE_API_BASE || \"http://localhost:5000\";\r\n+\r\n+const RegisterComponent = ({ switchToLogin }) => {\r\n   const [formData, setFormData] = useState({\r\n     name: \"\",\r\n     email: \"\",\r\n     password: \"\",\r\n     confirmPassword: \"\",\r\n   });\r\n \r\n+  const [loading, setLoading] = useState(false);\r\n+\r\n   const handleChange = (e) => {\r\n     const { name, value } = e.target;\r\n     setFormData((prev) => ({ ...prev, [name]: value }));\r\n   };\r\n \r\n-  const handleSubmit = (e) => {\r\n+  const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n+\r\n     if (formData.password !== formData.confirmPassword) {\r\n       alert(\"Passwords don't match!\");\r\n       return;\r\n     }\r\n-    // Call parent onRegister with form data\r\n-    onRegister(formData);\r\n+\r\n+    setLoading(true);\r\n+    try {\r\n+      const res = await axios.post(\r\n+        `${apiBase}/auth/register`,\r\n+        {\r\n+          name: formData.name,\r\n+          email: formData.email,\r\n+          password: formData.password,\r\n+        },\r\n+        {\r\n+          headers: { \"Content-Type\": \"application/json\" },\r\n+        }\r\n+      );\r\n+\r\n+      if (res.status === 201) {\r\n+        // If your backend sends a token\r\n+        if (res.data.token) localStorage.setItem(\"token\", res.data.token);\r\n+\r\n+        // Redirect to /home\r\n+        window.location.href = \"/home\"; // Or use navigate(\"/home\") if using React Router\r\n+      }\r\n+    } catch (err) {\r\n+      console.error(\"❌ Registration failed:\", err);\r\n+      alert(\r\n+        err.response?.data?.message ||\r\n+          \"Registration failed. Please try again later.\"\r\n+      );\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n   };\r\n \r\n   return (\r\n     <div className=\"futuristic-auth-container\">\r\n@@ -108,11 +143,14 @@\n \r\n             <button\r\n               type=\"submit\"\r\n               className=\"cyber-button cyber-button-primary full-width\"\r\n+              disabled={loading}\r\n             >\r\n               <span className=\"cyber-button-glitch\">⊕</span>\r\n-              <span className=\"cyber-button-text\">CREATE IDENTITY</span>\r\n+              <span className=\"cyber-button-text\">\r\n+                {loading ? \"CREATING...\" : \"CREATE IDENTITY\"}\r\n+              </span>\r\n             </button>\r\n \r\n             <div className=\"auth-switch\">\r\n               <span>EXISTING USER?</span>\r\n"
                }
            ],
            "date": 1757419365361,
            "name": "Commit-0",
            "content": "import React from \"react\";\r\n\r\nexport default function registerComponent() {\r\n  return <div>registerComponent</div>;\r\n}\r\n"
        }
    ]
}